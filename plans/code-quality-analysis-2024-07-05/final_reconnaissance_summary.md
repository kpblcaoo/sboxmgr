# –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç –æ —Ä–∞–∑–≤–µ–¥–∫–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ SBoxMgr

**–î–∞—Ç–∞:** 2024-07-05  
**–í–µ—Ç–∫–∞:** chore/code-quality-analysis  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–∑–≤–µ–¥–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞, –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

## –û–±–∑–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏ –∏—Ö —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

### 1. Vulture - –ü–æ–∏—Å–∫ –º–µ—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞ ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û—Ç–ª–∏—á–Ω–æ  
**–ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:** 2 –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ  
**–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è - –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç –º–µ—Ä—Ç–≤—ã–π –∫–æ–¥  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å –≤ CI/CD pipeline

### 2. Ruff - –ë—ã—Å—Ç—Ä—ã–π –ª–∏–Ω—Ç–µ—Ä –∏ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û—Ç–ª–∏—á–Ω–æ  
**–ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:** 60 –ø—Ä–æ–±–ª–µ–º —Å—Ç–∏–ª—è –∏ –∫–∞—á–µ—Å—Ç–≤–∞  
**–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:** –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è - –±—ã—Å—Ç—Ä—ã–π –∏ —Ç–æ—á–Ω—ã–π  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –ª–∏–Ω—Ç–µ—Ä, –∑–∞–º–µ–Ω–∏—Ç—å flake8

### 3. MyPy - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è ‚≠ê‚≠ê‚≠ê‚≠ê
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –•–æ—Ä–æ—à–æ  
**–ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:** 95 –æ—à–∏–±–æ–∫ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏  
**–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è - –Ω–∞—Ö–æ–¥–∏—Ç —Å–µ—Ä—å–µ–∑–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Ç–∏–ø–∏–∑–∞—Ü–∏–∏  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏

### 4. Radon - –ê–Ω–∞–ª–∏–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û—Ç–ª–∏—á–Ω–æ  
**–ú–µ—Ç—Ä–∏–∫–∏:** –°—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å A (3.97)  
**–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è - –¥–∞–µ—Ç —á–µ—Ç–∫—É—é –∫–∞—Ä—Ç–∏–Ω—É —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

### 5. Bandit - –ê–Ω–∞–ª–∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û—Ç–ª–∏—á–Ω–æ  
**–ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:** 30+ –ø—Ä–æ–±–ª–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏  
**–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:** –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è - –Ω–∞—à–µ–ª –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –≤ CI/CD

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–≤—ã–ø–æ–ª–Ω–µ–Ω—ã)

### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **MD5 —Ö–µ—à:** –ó–∞–º–µ–Ω–µ–Ω –Ω–∞ SHA256
- **–ü—Ä–∏–≤—è–∑–∫–∞ –∫ 0.0.0.0:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –¥–ª—è SOCKS/HTTP
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã

### ‚úÖ –¢–∏–ø–∏–∑–∞—Ü–∏—è
- **Implicit Optional:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ ~15 –æ—à–∏–±–æ–∫
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** MyPy –æ—à–∏–±–∫–∏ —É–º–µ–Ω—å—à–µ–Ω—ã —Å 95 –¥–æ ~80

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–¥–∞

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: 8/10 ‚¨ÜÔ∏è
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã: 0
- –°—Ä–µ–¥–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã: 5
- –ù–∏–∑–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã: 17

### –¢–∏–ø–∏–∑–∞—Ü–∏—è: 6/10 ‚¨ÜÔ∏è
- MyPy –æ—à–∏–±–∫–∏: ~80 (–±—ã–ª–æ 95)
- Implicit Optional: ~25 (–±—ã–ª–æ ~40)
- Union-attr –ø—Ä–æ–±–ª–µ–º—ã: ~20

### –°—Ç–∏–ª—å –∫–æ–¥–∞: 5/10
- Ruff –æ—à–∏–±–∫–∏: 60
- –ò–º–ø–æ—Ä—Ç—ã: 20+ –ø—Ä–æ–±–ª–µ–º
- –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: 15

### –°–ª–æ–∂–Ω–æ—Å—Ç—å: 8/10
- –°—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å: A (3.97)
- –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏: 15

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é

### –≠—Ç–∞–ø 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í—ã—Å–æ–∫–∏–π)
```yaml
# .github/workflows/code-quality.yml
- name: Security check
  run: bandit -r src/ --severity-level medium

- name: Type checking
  run: mypy src/ --ignore-missing-imports

- name: Linting
  run: ruff check src/

- name: Complexity check
  run: radon cc src/ -a
```

### –≠—Ç–∞–ø 2: Pre-commit hooks (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í—ã—Å–æ–∫–∏–π)
```yaml
# .pre-commit-config.yaml
repos:
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.12.1
    hooks:
      - id: ruff
      - id: ruff-format
  - repo: https://github.com/pre-commit/mirrors-mypy
    rev: v1.16.1
    hooks:
      - id: mypy
  - repo: https://github.com/PyCQA/bandit
    rev: 1.8.5
    hooks:
      - id: bandit
```

### –≠—Ç–∞–ø 3: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°—Ä–µ–¥–Ω–∏–π)
- `pyproject.toml` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- `mypy.ini` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
- `.bandit` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- `ruff.toml` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–∏–Ω—Ç–µ—Ä–∞

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–±–æ—Ç—ã

### üî¥ –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
1. **–ó–∞–≤–µ—Ä—à–∏—Ç—å –≠—Ç–∞–ø 2:** –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å–ª–æ–∂–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
3. **Pre-commit hooks:** –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–π

### üü° –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
1. **–≠—Ç–∞–ø 3:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∏–ª—è –∫–æ–¥–∞ (Ruff)
2. **–£–ª—É—á—à–µ–Ω–∏–µ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏:** –û—Å—Ç–∞–≤—à–∏–µ—Å—è MyPy –æ—à–∏–±–∫–∏
3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è

### üü¢ –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
1. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø–æ–∫—Ä—ã—Ç–∏—è
3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –¶–µ–ª—å | –¢–µ–∫—É—â–µ–µ | –°—Ç–∞—Ç—É—Å |
|---------|------|---------|--------|
| –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ | 0 | 0 | ‚úÖ |
| MyPy –æ—à–∏–±–∫–∏ | <50 | ~80 | üîÑ |
| Ruff –æ—à–∏–±–∫–∏ | <20 | 60 | üîÑ |
| –°—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å | A | A (3.97) | ‚úÖ |
| –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π | >80% | ~60% | üîÑ |

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–†–∞–∑–≤–µ–¥–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã, 
—Ç–∏–ø–∏–∑–∞—Ü–∏—è —É–ª—É—á—à–µ–Ω–∞. –ö–æ–¥ –∏–º–µ–µ—Ç —Ö–æ—Ä–æ—à—É—é –æ—Å–Ω–æ–≤—É —Å –æ—Ç–ª–∏—á–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞:** 7/10 (–±—ã–ª–æ 6/10)

**–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø:** –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD 