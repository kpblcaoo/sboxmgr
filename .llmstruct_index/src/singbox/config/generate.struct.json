{
  "module_id": "src.singbox.config.generate",
  "path": "src/singbox/config/generate.py",
  "category": "core",
  "module_doc": "",
  "functions": [
    {
      "name": "generate_config",
      "docstring": "Generate sing-box configuration from template.",
      "line_range": [
        6,
        74
      ],
      "parameters": [
        "outbounds",
        "template_file",
        "config_file",
        "backup_file",
        "excluded_ips"
      ],
      "decorators": []
    },
    {
      "name": "generate_temp_config",
      "docstring": "Генерирует json-строку конфига для dry-run без записи в файл.",
      "line_range": [
        76,
        101
      ],
      "parameters": [
        "outbounds",
        "template_file",
        "excluded_ips"
      ],
      "decorators": []
    },
    {
      "name": "validate_config_file",
      "docstring": "Валидирует конфиг-файл через sing-box check. Возвращает (bool, вывод).",
      "line_range": [
        103,
        107
      ],
      "parameters": [
        "config_path"
      ],
      "decorators": []
    }
  ],
  "classes": [],
  "callgraph": {
    "generate_config": [
      "f.write",
      "enumerate",
      "FileNotFoundError",
      "o.get",
      "json.dumps",
      "error",
      "open",
      "subprocess.run",
      "current_config_file.read",
      "json.load",
      "os.rename",
      "info",
      "next",
      "rule.get",
      "len",
      "current_config.strip",
      "config.strip",
      "outbound.get"
    ],
    "generate_temp_config": [
      "enumerate",
      "FileNotFoundError",
      "o.get",
      "json.dumps",
      "error",
      "open",
      "json.load",
      "rule.get",
      "next",
      "outbound.get"
    ],
    "validate_config_file": [
      "subprocess.run"
    ]
  },
  "dependencies": [
    "error",
    "info",
    "json",
    "logging",
    "os",
    "subprocess"
  ],
  "hash": "3b67ac25c1d990aa6d9fd5f64b228315c5ff1ea4cfc3887afbade5df3aa18990",
  "artifact_id": "1cddef64-cdc5-4581-8d85-2877ee00addc"
}